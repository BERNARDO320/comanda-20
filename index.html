

<html class="scroll-smooth" lang="pt-BR">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Sistema de Comanda para Restaurante e Bar - Completo
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&amp;display=swap" rel="stylesheet"/>
 <link rel="stylesheet" href="./style.css">
   <!-- body {
      font-family: 'Roboto', sans-serif;
    }
    /* Scrollbar for order list */
    .scrollbar-thin::-webkit-scrollbar {
      width: 6px;
    }
    .scrollbar-thin::-webkit-scrollbar-track {
      background: transparent;
    }
    .scrollbar-thin::-webkit-scrollbar-thumb {
      background-color: rgba(107, 114, 128, 0.5);
      border-radius: 3px;
    }
    /* Custom min-height for order list */
    .min-h-200 {
      min-height: 200px;
    }
  </style> -->
 </head>
 <body class="bg-gray-50 min-h-screen flex flex-col">
  <!-- Header -->
  <header class="bg-white shadow-md sticky top-0 z-50">
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16">
    <div class="flex items-center space-x-3">
     <img alt="Logo do restaurante e bar, um copo de cerveja estilizado com talheres cruzados" class="w-12 h-12 rounded-full" height="48" src="https://storage.googleapis.com/a1aa/image/b007b27f-7cc8-468a-0c4b-564667442e6b.jpg" width="48"/>
     <h1 class="text-2xl font-bold text-gray-800 select-none">
      Comanda R&amp;B
     </h1>
    </div>
    <nav class="hidden md:flex space-x-6 text-gray-700 font-semibold">
     <button class="hover:text-indigo-600 focus:outline-none focus:text-indigo-600 transition" id="btn-new-order">
      Nova Comanda
     </button>
     <button class="hover:text-indigo-600 focus:outline-none focus:text-indigo-600 transition" id="btn-orders">
      Comandas Ativas
     </button>
     <button class="hover:text-indigo-600 focus:outline-none focus:text-indigo-600 transition" id="btn-menu">
      Cardápio
     </button>
     <button class="hover:text-indigo-600 focus:outline-none focus:text-indigo-600 transition" id="btn-products">
      Produtos
     </button>
     <button class="hover:text-indigo-600 focus:outline-none focus:text-indigo-600 transition" id="btn-clients">
      Clientes
     </button>
     <button class="hover:text-indigo-600 focus:outline-none focus:text-indigo-600 transition" id="btn-reports">
      Relatórios
     </button>
     <button class="hover:text-indigo-600 focus:outline-none focus:text-indigo-600 transition" id="btn-logout">
      Sair
     </button>
    </nav>
    <button class="md:hidden text-gray-700 hover:text-indigo-600 focus:outline-none focus:text-indigo-600" id="btn-menu-mobile" title="Abrir menu de navegação">
     <i class="fas fa-bars fa-lg">
     </i>
    </button>
   </div>
   <!-- Mobile menu -->
   <nav class="hidden md:hidden bg-white border-t border-gray-200" id="mobile-menu">
    <div class="flex flex-col space-y-1 px-4 py-2 text-gray-700 font-semibold">
     <button class="text-left hover:text-indigo-600 focus:outline-none focus:text-indigo-600 transition py-2" id="btn-new-order-mobile">
      Nova Comanda
     </button>
     <button class="text-left hover:text-indigo-600 focus:outline-none focus:text-indigo-600 transition py-2" id="btn-orders-mobile">
      Comandas Ativas
     </button>
     <button class="text-left hover:text-indigo-600 focus:outline-none focus:text-indigo-600 transition py-2" id="btn-menu-mobile-btn">
      Cardápio
     </button>
     <button class="text-left hover:text-indigo-600 focus:outline-none focus:text-indigo-600 transition py-2" id="btn-products-mobile">
      Produtos
     </button>
     <button class="text-left hover:text-indigo-600 focus:outline-none focus:text-indigo-600 transition py-2" id="btn-clients-mobile">
      Clientes
     </button>
     <button class="text-left hover:text-indigo-600 focus:outline-none focus:text-indigo-600 transition py-2" id="btn-reports-mobile">
      Relatórios
     </button>
     <button class="text-left hover:text-indigo-600 focus:outline-none focus:text-indigo-600 transition py-2" id="btn-logout-mobile">
      Sair
     </button>
    </div>
   </nav>
  </header>

  <!-- Login Modal -->
  <div class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50" id="modal-login">
   <div class="bg-white rounded-lg shadow-lg max-w-md w-full p-6">
    <h2 class="text-2xl font-bold mb-6 text-indigo-700 flex items-center gap-2 justify-center">
     <i class="fas fa-user-lock"></i> Login do Funcionário
    </h2>
    <form id="login-form" class="flex flex-col gap-4">
     <input autocomplete="username" class="border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="login-username" placeholder="Usuário" required="" type="text"/>
     <input autocomplete="current-password" class="border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="login-password" placeholder="Senha" required="" type="password"/>
     <button class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-6 py-2 rounded shadow focus:outline-none focus:ring-2 focus:ring-indigo-500" type="submit">
      Entrar
     </button>
    </form>
    <p class="mt-4 text-center text-gray-600 text-sm select-none">Usuários de exemplo: Bernardo  / senha: 201988</p>
   </div>
  </div>

  <!-- Main content -->
  <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 flex flex-col md:flex-row gap-6 hidden" id="main-content">
   <!-- Left panel: Cardápio -->
   <section class="md:w-1/3 bg-white rounded-lg shadow p-4 flex flex-col overflow-y-auto max-h-[80vh]" id="menu-section">
    <h2 class="text-xl font-bold mb-4 text-indigo-700 flex items-center gap-2">
     <i class="fas fa-utensils"></i> Cardápio
    </h2>
    <div class="flex flex-col space-y-4" id="menu-list">
     <!-- Menu items will be rendered here -->
    </div>
   </section>

   <!-- Center panel: Comanda ativa -->
   <section class="md:w-2/3 bg-white rounded-lg shadow p-4 flex flex-col" id="order-section">
    <div class="flex justify-between items-center mb-4">
     <h2 class="text-xl font-bold text-indigo-700 flex items-center gap-2">
      <i class="fas fa-receipt"></i> Comanda Ativa
     </h2>
     <button class="text-red-600 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 rounded px-3 py-1 border border-red-600 transition disabled:opacity-50" disabled="" id="btn-clear-order">
      <i class="fas fa-trash-alt"></i> Limpar
     </button>
    </div>
    <form class="flex flex-col flex-grow overflow-y-auto" id="order-form">
     <div class="mb-4 grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
       <label class="block text-gray-700 font-semibold mb-1" for="table-number">Número da Mesa</label>
       <input class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="table-number" min="1" name="table-number" placeholder="Ex: 12" required="" type="number"/>
      </div>
      <div>
       <label class="block text-gray-700 font-semibold mb-1" for="client-select">Cliente (opcional)</label>
       <select class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="client-select" name="client-select">
       </select>
      </div>
     </div>
     <div class="flex-grow overflow-y-auto scrollbar-thin border border-gray-200 rounded p-2 mb-4 min-h-200">
      <table class="w-full text-left text-gray-800">
       <thead class="border-b border-gray-300">
        <tr>
         <th class="py-2 px-1 w-1/2">Produto</th>
         <th class="py-2 px-1 w-1/6 text-center">Qtd</th>
         <th class="py-2 px-1 w-1/6 text-right">Preço Unit.</th>
         <th class="py-2 px-1 w-1/6 text-right">Subtotal</th>
         <th class="py-2 px-1 w-12"></th>
        </tr>
       </thead>
       <tbody class="divide-y divide-gray-200" id="order-items">
        <tr class="text-center text-gray-500">
         <td class="py-6" colspan="5">Nenhum item adicionado.</td>
        </tr>
       </tbody>
      </table>
     </div>
     <div class="mb-4">
      <label class="block text-gray-700 font-semibold mb-1" for="payment-method">Forma de Pagamento</label>
      <select class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="payment-method" name="payment-method" required>
       <option value="">Selecione</option>
       <option value="dinheiro">Dinheiro</option>
       <option value="cartao-debito">Cartão Débito</option>
       <option value="cartao-credito">Cartão Crédito</option>
       <option value="pix">PIX</option>
       <option value="outro">Outro</option>
      </select>
     </div>
     <div class="flex justify-between items-center border-t border-gray-300 pt-3">
      <div class="text-lg font-semibold text-gray-900">
       Total: <span id="order-total">R$ 0,00</span>
      </div>
      <button class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-6 py-2 rounded shadow focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:opacity-50" disabled="" id="btn-submit-order" type="submit">
       <i class="fas fa-check-circle mr-2"></i> Finalizar Comanda
      </button>
     </div>
    </form>
   </section>
  </main>

  <!-- Produtos Section -->
  <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 bg-white rounded-lg shadow my-6 hidden" id="products-section">
   <div class="flex justify-between items-center mb-4">
    <h2 class="text-xl font-bold text-indigo-700 flex items-center gap-2">
     <i class="fas fa-box-open"></i> Cadastro de Produtos
    </h2>
    <button class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-4 py-2 rounded shadow focus:outline-none focus:ring-2 focus:ring-indigo-500" id="btn-add-product">
     <i class="fas fa-plus"></i> Novo Produto
    </button>
   </div>
   <div class="overflow-x-auto">
    <table class="w-full text-left text-gray-800 text-sm border border-gray-300 rounded">
     <thead class="bg-indigo-100 border-b border-indigo-300">
      <tr>
       <th class="py-2 px-3 border-r border-indigo-300">Nome</th>
       <th class="py-2 px-3 border-r border-indigo-300">Categoria</th>
       <th class="py-2 px-3 border-r border-indigo-300">Preço (R$)</th>
       <th class="py-2 px-3 border-r border-indigo-300">Imagem</th>
       <th class="py-2 px-3 border-indigo-300 w-24">Ações</th>
      </tr>
     </thead>
     <tbody id="products-table-body" class="divide-y divide-gray-200">
      <!-- Produtos listados aqui -->
     </tbody>
    </table>
   </div>
  </section>

  <!-- Clientes Section -->
  <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 bg-white rounded-lg shadow my-6 hidden" id="clients-section">
   <div class="flex justify-between items-center mb-4">
    <h2 class="text-xl font-bold text-indigo-700 flex items-center gap-2">
     <i class="fas fa-users"></i> Cadastro de Clientes
    </h2>
    <button class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-4 py-2 rounded shadow focus:outline-none focus:ring-2 focus:ring-indigo-500" id="btn-add-client">
     <i class="fas fa-plus"></i> Novo Cliente
    </button>
   </div>
   <div class="overflow-x-auto">
    <table class="w-full text-left text-gray-800 text-sm border border-gray-300 rounded">
     <thead class="bg-indigo-100 border-b border-indigo-300">
      <tr>
       <th class="py-2 px-3 border-r border-indigo-300">Nome</th>
       <th class="py-2 px-3 border-r border-indigo-300">Telefone</th>
       <th class="py-2 px-3 border-r border-indigo-300">Email</th>
       <th class="py-2 px-3 border-indigo-300 w-24">Ações</th>
      </tr>
     </thead>
     <tbody id="clients-table-body" class="divide-y divide-gray-200">
      <!-- Clientes listados aqui -->
     </tbody>
    </table>
   </div>
  </section>

  <!-- Comandas Ativas Section -->
  <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 bg-white rounded-lg shadow my-6 hidden" id="active-orders-section">
   <h2 class="text-xl font-bold text-indigo-700 flex items-center gap-2 mb-4">
    <i class="fas fa-list"></i> Comandas Ativas
   </h2>
   <div class="overflow-x-auto max-h-[70vh] overflow-y-auto scrollbar-thin">
    <table class="w-full text-left text-gray-800 text-sm border border-gray-300 rounded">
     <thead class="bg-indigo-100 border-b border-indigo-300">
      <tr>
       <th class="py-2 px-3 border-r border-indigo-300">Mesa</th>
       <th class="py-2 px-3 border-r border-indigo-300">Cliente</th>
       <th class="py-2 px-3 border-r border-indigo-300">Itens</th>
       <th class="py-2 px-3 border-r border-indigo-300">Total (R$)</th>
       <th class="py-2 px-3 border-indigo-300 w-32">Ações</th>
      </tr>
     </thead>
     <tbody id="active-orders-table-body" class="divide-y divide-gray-200">
      <!-- Comandas ativas listadas aqui -->
     </tbody>
    </table>
   </div>
  </section>

  <!-- Modal para confirmação de finalização -->
  <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50" id="modal-confirm">
   <div class="bg-white rounded-lg shadow-lg max-w-md w-full p-6">
    <h3 class="text-xl font-bold mb-4 text-indigo-700 flex items-center gap-2">
     <i class="fas fa-exclamation-triangle"></i> Confirmar Finalização
    </h3>
    <p class="mb-6 text-gray-700">
     Deseja realmente finalizar esta comanda? Após finalizar, não será possível editar.
    </p>
    <div class="flex justify-end gap-4">
     <button class="px-4 py-2 rounded border border-gray-300 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-400" id="btn-cancel-modal">
      Cancelar
     </button>
     <button class="px-4 py-2 rounded bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="btn-confirm-modal">
      Confirmar
     </button>
    </div>
   </div>
  </div>

  <!-- Modal para relatório -->
  <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 p-4 overflow-auto" id="modal-report">
   <div class="bg-white rounded-lg shadow-lg max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto">
    <h3 class="text-xl font-bold mb-4 text-indigo-700 flex items-center gap-2">
     <i class="fas fa-chart-line"></i> Relatório de Comandas Finalizadas
    </h3>
    <div class="text-gray-800 text-sm" id="report-content">
     <p>Carregando relatório...</p>
    </div>
    <div class="flex justify-end mt-6">
     <button class="px-4 py-2 rounded bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="btn-close-report">
      Fechar
     </button>
    </div>
   </div>
  </div>

  <!-- Modal para cadastro/edição de produto -->
  <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 p-4 overflow-auto" id="modal-product">
   <div class="bg-white rounded-lg shadow-lg max-w-md w-full p-6">
    <h3 class="text-xl font-bold mb-4 text-indigo-700 flex items-center gap-2" id="modal-product-title">
     <i class="fas fa-box-open"></i> Novo Produto
    </h3>
    <form id="product-form" class="flex flex-col gap-4">
     <div>
      <label class="block text-gray-700 font-semibold mb-1" for="product-name">Nome do Produto</label>
      <input class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="product-name" name="product-name" required="" type="text"/>
     </div>
     <div>
      <label class="block text-gray-700 font-semibold mb-1" for="product-category">Categoria</label>
      <input class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="product-category" name="product-category" required="" type="text"/>
     </div>
     <div>
      <label class="block text-gray-700 font-semibold mb-1" for="product-price">Preço (R$)</label>
      <input class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="product-price" name="product-price" min="0" step="0.01" required="" type="number"/>
     </div>
     <div>
      <label class="block text-gray-700 font-semibold mb-1" for="product-image">URL da Imagem</label>
      <input class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="product-image" name="product-image" placeholder="https://placehold.co/64x64" type="url"/>
     </div>
     <div class="flex justify-end gap-4">
      <button class="px-4 py-2 rounded border border-gray-300 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-400" id="btn-cancel-product" type="button">
       Cancelar
      </button>
      <button class="px-4 py-2 rounded bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="btn-save-product" type="submit">
       Salvar
      </button>
     </div>
    </form>
   </div>
  </div>

  <!-- Modal para cadastro/edição de cliente -->
  <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 p-4 overflow-auto" id="modal-client">
   <div class="bg-white rounded-lg shadow-lg max-w-md w-full p-6">
    <h3 class="text-xl font-bold mb-4 text-indigo-700 flex items-center gap-2" id="modal-client-title">
     <i class="fas fa-user"></i> Novo Cliente
    </h3>
    <form id="client-form" class="flex flex-col gap-4">
     <div>
      <label class="block text-gray-700 font-semibold mb-1" for="client-name">Nome</label>
      <input class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="client-name" name="client-name" required="" type="text"/>
     </div>
     <div>
      <label class="block text-gray-700 font-semibold mb-1" for="client-phone">Telefone</label>
      <input class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="client-phone" name="client-phone" type="tel" pattern="[\d\s()+-]{8,}" placeholder="(99) 99999-9999"/>
     </div>
     <div>
      <label class="block text-gray-700 font-semibold mb-1" for="client-email">Email</label>
      <input class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="client-email" name="client-email" type="email" placeholder="email@exemplo.com"/>
     </div>
     <div class="flex justify-end gap-4">
      <button class="px-4 py-2 rounded border border-gray-300 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-400" id="btn-cancel-client" type="button">
       Cancelar
      </button>
      <button class="px-4 py-2 rounded bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="btn-save-client" type="submit">
       Salvar
      </button>
     </div>
    </form>
   </div>
  </div>

  <!-- Modal para emissão de nota -->
  <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 p-4 overflow-auto" id="modal-invoice">
   <div class="bg-white rounded-lg shadow-lg max-w-3xl w-full p-6 max-h-[90vh] overflow-y-auto">
    <h3 class="text-xl font-bold mb-4 text-indigo-700 flex items-center gap-2">
     <i class="fas fa-file-invoice-dollar"></i> Nota Fiscal
    </h3>
    <div id="invoice-content" class="text-gray-800 text-sm">
     <!-- Conteúdo da nota será gerado aqui -->
    </div>
    <div class="flex justify-end mt-6 gap-4">
     <button class="px-4 py-2 rounded border border-gray-300 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-400" id="btn-close-invoice">
      Fechar
     </button>
     <button class="px-4 py-2 rounded bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="btn-print-invoice">
      <i class="fas fa-print mr-2"></i> Imprimir
     </button>
    </div>
   </div>
  </div>
  <script src="../js/script.js"></script>

 </body>
</html>
